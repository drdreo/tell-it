<div class="stories">
    @if (finalStories()) {
        @for (story of finalStories(); track story.author) {
            <tell-it-app-message
                class="story"
                [author]="story.author"
                [message]="story.text"
                [ttsEnabled]="true"></tell-it-app-message>
        }
        <button class="button" (click)="restart.emit()">Restart?</button>

        @let votes = restartVotes();
        @if (votes && votes.length > 0) {
            <div class="finish-votes">Restart: {{ votes.length }}/{{ users()?.length }}</div>
        }
    } @else {
        Loading final stories...
        <button class="button" (click)="loadFinalStories.emit()">Load</button>
    }
</div>
