<tell-it-story-author-header
    [author]="author()"
    [wordCount]="stats().words"
    [turnCount]="stats().turns"
    [ttsEnabled]="ttsEnabled()"
    [hasMessage]="!!message()"
    [isLoadingTts]="isLoadingTts()"
    [isReading]="isReading()"
    [statsExpanded]="statsExpanded()"
    [isDownloadButtonEnabled]="hasAudioCached()"
    (statsToggle)="toggleStatsExpanded()"
    (ttsClick)="tts(message())"
    (downloadClick)="downloadAudio()" />

@if (statsExpanded()) {
    <tell-it-story-stats-panel [stats]="stats()" />
}

<tell-it-story-message [message]="message()" />
