<div class="page-container">
    <tell-it-connection-status [connectionState]="connectionState()" (reconnect)="reconnect()" />

    @switch (gameStatus()) {
        @case ("waiting") {
            <tell-it-waiting-room
                [roomName]="roomName()"
                [users]="users()"
                [user]="currentPlayer()"
                (startGame)="startGame()">
            </tell-it-waiting-room>
        }
        @case ("started") {
            <tell-it-game-in-progress
                [users]="users()"
                [user]="currentPlayer()"
                [story]="story()"
                [turnTimer]="turnTime()"
                [finishVotes]="finishVotes()"
                (submitText)="submitText($event)"
                (voteFinish)="voteFinish()">
            </tell-it-game-in-progress>
        }
        @case ("ended") {
            <tell-it-game-ended
                [users]="users()"
                [finalStories]="finalStories()"
                [restartVotes]="restartVotes()"
                (restart)="voteRestart()"
                (loadFinalStories)="loadFinalStories()">
            </tell-it-game-ended>
        }
    }
</div>
